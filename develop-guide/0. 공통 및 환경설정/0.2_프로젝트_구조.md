# ğŸ“‚ 0.2 í”„ë¡œì íŠ¸ êµ¬ì¡°

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#1-ê°œìš”)
2. [ë””ë ‰í† ë¦¬ êµ¬ì¡°](#2-ë””ë ‰í† ë¦¬-êµ¬ì¡°)
3. [êµ¬ì¡° ìƒì„±](#3-êµ¬ì¡°-ìƒì„±)
4. [ê²€ì¦](#4-ê²€ì¦)

## 1. ê°œìš”

Fallingo í”„ë¡œì íŠ¸ì˜ Clean Architecture ê¸°ë°˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

### ğŸ“Œ í•µì‹¬ í¬ì¸íŠ¸

- âœ… Clean Architecture ì ìš© (data/domain/presentation)
- âœ… Domain-driven Design (ë°±ì—”ë“œ)
- âœ… íŒŒì¼ëª…ì€ snake_case

### ğŸ“ ì—…ë°ì´íŠ¸ ì´ë ¥

- âš¡ ê°œì„ : [2024-12-20]
- ì´ìœ : ë¬¸ì„œ 1.2ì˜ mock_data_factory.dart íŒŒì¼ ê²½ë¡œë¥¼ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ lib/data/ ë””ë ‰í† ë¦¬ ì¶”ê°€
- ì´ì „: lib/data/ ë””ë ‰í† ë¦¬ê°€ í”„ë¡œì íŠ¸ êµ¬ì¡°ì— ì—†ì—ˆìŒ

## 2. ë””ë ‰í† ë¦¬ êµ¬ì¡°

### í˜„ì¬ ìƒíƒœ ì„¤ëª…

- **docs/develop-guide/**: ëª¨ë“  ê°œë°œ ê°€ì´ë“œê°€ ìˆ«ìë³„ í´ë”ë¡œ ì •ë¦¬ë¨
- **models/**: ì´ë¯¸ ìƒì„±ëœ ë°ì´í„° ëª¨ë¸ íŒŒì¼ë“¤ì´ ì¡´ì¬
- **config/**: í™˜ê²½ë³„ ì„¤ì • íŒŒì¼ í¬í•¨
- **sql/**: PostgreSQL ìŠ¤í‚¤ë§ˆ ë° ì´ˆê¸° ì„¤ì • SQL
- **í™˜ê²½ ë³€ìˆ˜**: ë£¨íŠ¸, frontend, backend ê°ê°ì— .env íŒŒì¼ ì¡´ì¬

### [í•„ìˆ˜] ì „ì²´ êµ¬ì¡°

```
fallingo/
â”œâ”€â”€ frontend/                         # Flutter ì•±
â”œâ”€â”€ backend/                          # Flask API ì„œë²„
â”œâ”€â”€ supabase/                         # Supabase ì„¤ì •
â”œâ”€â”€ scripts/                          # ê°œë°œ/ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ docs/                             # ë¬¸ì„œ
â”‚   â”œâ”€â”€ develop-guide/                # ê°œë°œ ê°€ì´ë“œ
â”‚   â”‚   â”œâ”€â”€ 0. ê³µí†µ ë° í™˜ê²½ì„¤ì •/      # í™˜ê²½ ì„¤ì • ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ 1. ë°ì´í„° ì„¤ê³„/           # ë°ì´í„° ê´€ë ¨ ë¬¸ì„œ
â”‚   â”‚   â”œâ”€â”€ 2. API ì„¤ê³„/              # API ì„¤ê³„ ë¬¸ì„œ
â”‚   â”‚   â””â”€â”€ ... (ê¸°íƒ€ ë””ë ‰í† ë¦¬)
â”‚   â””â”€â”€ planning/                     # ê¸°íš ë¬¸ì„œ
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ core/                     # í•µì‹¬ ê³µí†µ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ config/               # í™˜ê²½ ì„¤ì •
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app_config.dart
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ environment.dart  # í™˜ê²½ë³„ ì„¤ì •
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ constants.dart    # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â”‚   â”œâ”€â”€ theme/                # í…Œë§ˆ ê´€ë ¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app_theme.dart
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ app_colors.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ app_text_styles.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ i18n/                 # ë‹¤êµ­ì–´ ì§€ì›
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ supported_locales.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ translation_service.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ utils/                # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”‚   â”œâ”€â”€ widgets/              # ê³µí†µ ìœ„ì ¯
â”‚   â”‚   â”‚   â””â”€â”€ routes/               # ë¼ìš°íŒ…
â”‚   â”‚   â”‚       â””â”€â”€ app_router.dart
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ features/                 # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ (Clean Architecture)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                 # ì¸ì¦ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/             # ë°ì´í„° ë ˆì´ì–´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/           # ë„ë©”ì¸ ë ˆì´ì–´
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ presentation/     # í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ screens/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ widgets/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ feed/                 # í”¼ë“œ ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ splash/               # ìŠ¤í”Œë˜ì‹œ
â”‚   â”‚   â”‚   â”œâ”€â”€ explore/              # íƒìƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ camera/               # ì¹´ë©”ë¼
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/        # ì•Œë¦¼
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/              # í”„ë¡œí•„
â”‚   â”‚   â”‚   â””â”€â”€ main/                 # ë©”ì¸ í™”ë©´
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ data/                     # ê³µí†µ ë°ì´í„° ë ˆì´ì–´
â”‚   â”‚   â”‚   â”œâ”€â”€ services/             # ë°ì´í„° ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mock_data_factory.dart
â”‚   â”‚   â”‚   â””â”€â”€ repositories/         # ê³µí†µ ì €ì¥ì†Œ
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ models/                   # ê³µí†µ ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ utils/                    # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ widgets/                  # ê³µí†µ ìœ„ì ¯
â”‚   â”‚   â”œâ”€â”€ generated/                # ìë™ ìƒì„± íŒŒì¼ (l10n, freezed ë“±)
â”‚   â”‚   â”‚   â””â”€â”€ intl/                 # ë‹¤êµ­ì–´ ë²ˆì—­ ìƒì„± íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ l10n/                     # ë‹¤êµ­ì–´ ë²ˆì—­ ì›ë³¸ íŒŒì¼ (13ê°œ ì–¸ì–´)
â”‚   â”‚   â”‚   â”œâ”€â”€ app_ko.arb            # í•œêµ­ì–´
â”‚   â”‚   â”‚   â”œâ”€â”€ app_en.arb            # ì˜ì–´
â”‚   â”‚   â”‚   â””â”€â”€ ... (ê¸°íƒ€ ì–¸ì–´)
â”‚   â”‚   â”œâ”€â”€ main.dart                 # ê¸°ë³¸ ì•± ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ main_local.dart           # ë¡œì»¬ í™˜ê²½ ì§„ì…ì 
â”‚   â”‚   â”œâ”€â”€ main_dev.dart             # ê°œë°œ í™˜ê²½ ì§„ì…ì 
â”‚   â”‚   â””â”€â”€ main_prod.dart            # ìš´ì˜ í™˜ê²½ ì§„ì…ì 
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                       # ë¦¬ì†ŒìŠ¤ íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â”œâ”€â”€ animations/
â”‚   â”‚   â””â”€â”€ fonts/
â”‚   â”‚
â”‚   â”œâ”€â”€ android/                      # Android í”Œë«í¼ íŒŒì¼
â”‚   â”œâ”€â”€ ios/                          # iOS í”Œë«í¼ íŒŒì¼
â”‚   â”œâ”€â”€ web/                          # Web í”Œë«í¼ íŒŒì¼
â”‚   â”œâ”€â”€ test/                         # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”‚   â”œâ”€â”€ pubspec.yaml                  # Flutter ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ l10n.yaml                     # ë‹¤êµ­ì–´ ì„¤ì •
â”‚   â””â”€â”€ .env                          # Frontend í™˜ê²½ ë³€ìˆ˜
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ api/                          # API ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ v1/                       # API ë²„ì „
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                 # ì¸ì¦ ë„ë©”ì¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”‚   â”‚   â”œâ”€â”€ users/                # ì‚¬ìš©ì ë„ë©”ì¸
â”‚   â”‚   â”‚   â”œâ”€â”€ posts/                # ê²Œì‹œë¬¼ ë„ë©”ì¸
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ common/                   # ê³µí†µ API ê¸°ëŠ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ error_handlers.py     # ì—ëŸ¬ í•¸ë“¤ëŸ¬
â”‚   â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                       # ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ feed.py
â”‚   â”‚   â”œâ”€â”€ relations.py
â”‚   â”‚   â”œâ”€â”€ event_marker.py
â”‚   â”‚   â”œâ”€â”€ activity_log.py
â”‚   â”‚   â”œâ”€â”€ geo_point.py
â”‚   â”‚   â”œâ”€â”€ validators.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                     # ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                        # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ config/                       # ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ config.py                 # í™˜ê²½ë³„ ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ settings.py               # ê¸°ë³¸ ì„¤ì •
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ sql/                          # SQL ìŠ¤í¬ë¦½íŠ¸
â”‚   â”‚   â”œâ”€â”€ setup/                    # ì´ˆê¸° ì„¤ì • SQL
â”‚   â”‚   â”‚   â”œâ”€â”€ 01_extensions.sql
â”‚   â”‚   â”‚   â””â”€â”€ 02_functions.sql
â”‚   â”‚   â”œâ”€â”€ schema/                   # í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ 01_users.sql
â”‚   â”‚   â”‚   â”œâ”€â”€ 02_stores.sql
â”‚   â”‚   â”‚   â””â”€â”€ ... (ê¸°íƒ€ í…Œì´ë¸”)
â”‚   â”‚   â””â”€â”€ test/                     # í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”‚   â”‚       â””â”€â”€ seed_data.sql
â”‚   â”‚
â”‚   â”œâ”€â”€ app.py                        # Flask ì•± ìƒì„± íŒ©í† ë¦¬
â”‚   â”œâ”€â”€ run.py                        # ê°œë°œ ì„œë²„ ì‹¤í–‰
â”‚   â”œâ”€â”€ requirements.txt              # Python ì˜ì¡´ì„±
â”‚   â”œâ”€â”€ .env                          # Backend í™˜ê²½ ë³€ìˆ˜
â”‚   â””â”€â”€ .env.example                  # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ config.toml                   # Supabase ì„¤ì •
â”‚   â”œâ”€â”€ migrations/                   # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ functions/                    # Edge Functions
â”‚   â””â”€â”€ seed.sql                      # ì´ˆê¸° ë°ì´í„°
â”‚
â”œâ”€â”€ scripts/                          # ê°œë°œ/ìš´ì˜ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ setup_initial.sh              # ì´ˆê¸° í™˜ê²½ êµ¬ì¶•
â”‚   â”œâ”€â”€ start_all.sh                  # ì „ì²´ ì„œë¹„ìŠ¤ ì‹œì‘
â”‚   â”œâ”€â”€ stop_all.sh                   # ì „ì²´ ì„œë¹„ìŠ¤ ì¢…ë£Œ
â”‚   â”œâ”€â”€ create_structure.sh           # í´ë” êµ¬ì¡° ìƒì„±
â”‚   â””â”€â”€ format_all.sh                 # ì½”ë“œ í¬ë§·íŒ…
â”‚
â”œâ”€â”€ .gitignore                        # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ README.md                         # í”„ë¡œì íŠ¸ ì†Œê°œ
â”œâ”€â”€ .env                              # ë£¨íŠ¸ í™˜ê²½ ë³€ìˆ˜ (Supabase)
â””â”€â”€ .env.local                        # ë¡œì»¬ í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
```

### [í•„ìˆ˜] Feature êµ¬ì¡° (Clean Architecture)

```
features/auth/
â”œâ”€â”€ data/                    # ë°ì´í„° ë ˆì´ì–´
â”‚   â”œâ”€â”€ datasources/         # ë°ì´í„° ì†ŒìŠ¤
â”‚   â”œâ”€â”€ models/              # ë°ì´í„° ëª¨ë¸
â”‚   â””â”€â”€ repositories/        # ì €ì¥ì†Œ êµ¬í˜„
â”œâ”€â”€ domain/                  # ë„ë©”ì¸ ë ˆì´ì–´
â”‚   â”œâ”€â”€ entities/            # ì—”í‹°í‹°
â”‚   â”œâ”€â”€ repositories/        # ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ usecases/            # ìœ ìŠ¤ì¼€ì´ìŠ¤
â””â”€â”€ presentation/            # í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´
    â”œâ”€â”€ screens/             # í™”ë©´
    â”œâ”€â”€ widgets/             # ìœ„ì ¯
    â””â”€â”€ providers/           # ìƒíƒœ ê´€ë¦¬
```

## 3. êµ¬ì¡° ìƒì„±

### [ì„ íƒ] êµ¬ì¡° ìƒì„± ìŠ¤í¬ë¦½íŠ¸

```bash
# í˜„ì¬ ë””ë ‰í† ë¦¬ êµ¬ì¡° í™•ì¸
tree -d -L 3 .  # Mac/Linux
dir /s /b | findstr /e "\\" # Windows CMD
ls -R | grep "^\./" | sed 's/:$//' # Git Bash

# í•„ìš”í•œ ê²½ìš° ë¹ ì§„ í´ë”ë§Œ ìˆ˜ë™ ìƒì„±
mkdir -p frontend/lib/features/auth/{data,domain,presentation}
mkdir -p backend/api/v1/{auth,users,posts}
```

**ì£¼ì˜**: ê¸°ë³¸ êµ¬ì¡°ëŠ” Phase 1ì—ì„œ í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ì‹œ ìë™ ìƒì„±ë˜ë¯€ë¡œ ë³„ë„ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ë¶ˆí•„ìš”

### [í•„ìˆ˜] íŒŒì¼ ëª…ëª… ê·œì¹™

```dart
// âœ… Flutter íŒŒì¼ ëª…ëª… (snake_case)
user_profile_screen.dart
feed_card_widget.dart
auth_provider.dart
user.dart
app_config.dart

// âœ… Python íŒŒì¼ ëª…ëª… (snake_case)
auth_service.py
user.py
error_handlers.py

// âŒ ì˜ëª»ëœ ì˜ˆì‹œ
UserProfileScreen.dart    // PascalCase X
feedcard.dart            // ë‹¨ì–´ êµ¬ë¶„ X
appConfig.dart           // camelCase X
```

## 4. ê²€ì¦

### âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Clean Architecture êµ¬ì¡°ê°€ ì ìš©ë˜ì—ˆëŠ”ê°€?
- [ ] íŒŒì¼ëª…ì´ ëª¨ë‘ snake_caseì¸ê°€?
- [ ] ê° featureì— data/domain/presentationì´ ìˆëŠ”ê°€?
- [ ] Backendê°€ ë„ë©”ì¸ë³„ë¡œ êµ¬ë¶„ë˜ì—ˆëŠ”ê°€?

### ê²€ì¦ ëª…ë ¹ì–´

```bash
# Frontend êµ¬ì¡° í™•ì¸
ls -la frontend/lib/       # ê¸°ë³¸ í™•ì¸
ls -R frontend/lib/core/   # core ë””ë ‰í† ë¦¬ ìƒì„¸

# Backend êµ¬ì¡° í™•ì¸
ls -la backend/            # ê¸°ë³¸ í™•ì¸
ls -R backend/api/         # API êµ¬ì¡° í™•ì¸

# í™˜ê²½ ë³€ìˆ˜ íŒŒì¼ í™•ì¸
ls -la .env*               # ë£¨íŠ¸ .env íŒŒì¼ë“¤
ls -la frontend/.env       # Frontend í™˜ê²½ ë³€ìˆ˜
ls -la backend/.env*       # Backend í™˜ê²½ ë³€ìˆ˜
```

## ğŸ¯ ì•„í‚¤í…ì²˜ ì›ì¹™

### Frontend (Flutter)

- **Clean Architecture**: ê° featureëŠ” data, domain, presentation ë ˆì´ì–´ë¡œ ë¶„ë¦¬
- **ì˜ì¡´ì„± ê·œì¹™**: presentation â†’ domain â†’ data ë°©í–¥ìœ¼ë¡œë§Œ ì˜ì¡´
- **ìƒíƒœ ê´€ë¦¬**: Riverpodë¥¼ í†µí•œ ë°˜ì‘í˜• ìƒíƒœ ê´€ë¦¬
- **í™˜ê²½ ë¶„ë¦¬**: main_local.dart, main_dev.dart, main_prod.dartë¡œ ì§„ì…ì  ë¶„ë¦¬

### Backend (Flask)

- **Domain-driven Design**: ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ë³„ë¡œ API êµ¬ì¡°í™”
- **ê³„ì¸µ ë¶„ë¦¬**: API routes â†’ Services â†’ Models ìˆœì„œë¡œ ì˜ì¡´
- **Mock ìš°ì„ **: Phase 7ê¹Œì§€ëŠ” Mock ë°ì´í„°ë¡œ ê°œë°œ, ì´í›„ Supabase ì—°ë™
- **í™˜ê²½ ì„¤ì •**: config.pyì—ì„œ LocalConfig, DevelopmentConfig, ProductionConfig ë¶„ë¦¬

### ê³µí†µ

- **í™˜ê²½ ë³€ìˆ˜**: .env íŒŒì¼ë¡œ í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬
- **ì½”ë“œ í’ˆì§ˆ**:
  - Frontend: Flutter analyze, Flutter format
  - Backend: Flake8, Black
- **í…ŒìŠ¤íŠ¸**:
  - Frontend: Widget í…ŒìŠ¤íŠ¸, Integration í…ŒìŠ¤íŠ¸
  - Backend: pytest ê¸°ë°˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
