# ğŸ“± 6.7 í”„ë¡œí•„ ë° ë‚˜ì˜ë¯¸ì‹ì§€ë„

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#1-ê°œìš”)
2. [í•µì‹¬ êµ¬í˜„](#2-í•µì‹¬-êµ¬í˜„)
3. [Mock ë°ì´í„°](#3-mock-ë°ì´í„°)
4. [ê²€ì¦](#4-ê²€ì¦)

## 1. ê°œìš”

ì‚¬ìš©ì í”„ë¡œí•„ í™”ë©´ì€ ê°œì¸ì˜ ë¯¸ì‹ í™œë™ê³¼ ê³„ì • ê´€ë¦¬ë¥¼ ìœ„í•œ ì¢…í•© ê³µê°„ì…ë‹ˆë‹¤.

### ğŸ“Œ í•µì‹¬ í¬ì¸íŠ¸
- âœ… êµ­ê¸° ê¸°ë°˜ í”„ë¡œí•„ ì´ë¯¸ì§€
- âœ… 4ê°œ íƒ­ êµ¬ì„± (í”¼ë“œ/ì§€ë„/ë¶ë§ˆí¬/ì„¤ì •)
- âœ… ì†Œì…œ ê¸°ëŠ¥ ë° ê³„ì • ê´€ë¦¬

## 2. í•µì‹¬ êµ¬í˜„

### [í•„ìˆ˜] í”„ë¡œí•„ ë©”ì¸ í™”ë©´
```dart
// íŒŒì¼: lib/screens/profile_screen.dart
import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

// Provider
final currentUserProvider = StateProvider<UserData?>((ref) => mockUser);
final selectedTabProvider = StateProvider<int>((ref) => 0);

class ProfileScreen extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final user = ref.watch(currentUserProvider);
    final selectedTab = ref.watch(selectedTabProvider);
    
    if (user == null) {
      return _buildLoginPrompt(context);
    }
    
    return DefaultTabController(
      length: 4,
      initialIndex: selectedTab,
      child: Scaffold(
        body: NestedScrollView(
          headerSliverBuilder: (context, innerBoxIsScrolled) => [
            _buildSliverAppBar(context, ref, user),
          ],
          body: TabBarView(
            children: [
              _MyFeedsTab(),
              _MyFoodMapTab(),
              _BookmarksTab(),
              _SettingsTab(),
            ],
          ),
        ),
      ),
    );
  }
  
  Widget _buildLoginPrompt(BuildContext context) {
    return Scaffold(
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Icon(Icons.person_outline, size: 100, color: Colors.grey[400]),
            SizedBox(height: 24),
            Text('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤', style: TextStyle(fontSize: 20)),
            SizedBox(height: 16),
            ElevatedButton(
              onPressed: () => Navigator.pushNamed(context, '/login'),
              style: ElevatedButton.styleFrom(
                backgroundColor: Color(0xFFFF6B35),
              ),
              child: Text('ë¡œê·¸ì¸í•˜ê¸°'),
            ),
          ],
        ),
      ),
    );
  }
  
  Widget _buildSliverAppBar(BuildContext context, WidgetRef ref, UserData user) {
    return SliverAppBar(
      expandedHeight: 300,
      pinned: true,
      backgroundColor: Color(0xFFFF6B35),
      flexibleSpace: FlexibleSpaceBar(
        background: _ProfileHeader(user: user),
      ),
      bottom: TabBar(
        indicatorColor: Colors.white,
        indicatorWeight: 3,
        onTap: (index) => ref.read(selectedTabProvider.notifier).state = index,
        tabs: [
          Tab(icon: Icon(Icons.grid_on), text: 'í”¼ë“œ'),
          Tab(icon: Icon(Icons.map), text: 'ë¯¸ì‹ì§€ë„'),
          Tab(icon: Icon(Icons.bookmark), text: 'ë¶ë§ˆí¬'),
          Tab(icon: Icon(Icons.settings), text: 'ì„¤ì •'),
        ],
      ),
      actions: [
        IconButton(
          icon: Icon(Icons.share),
          onPressed: () {},
        ),
      ],
    );
  }
}

// í”„ë¡œí•„ í—¤ë”
class _ProfileHeader extends ConsumerWidget {
  final UserData user;
  
  _ProfileHeader({required this.user});
  
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    return Container(
      decoration: BoxDecoration(
        gradient: LinearGradient(
          colors: [Color(0xFFFF6B35), Color(0xFFFF8C5A)],
          begin: Alignment.topCenter,
          end: Alignment.bottomCenter,
        ),
      ),
      child: SafeArea(
        child: Padding(
          padding: EdgeInsets.all(16),
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              // í”„ë¡œí•„ ì´ë¯¸ì§€ (êµ­ê¸° ë˜ëŠ” ì‚¬ìš©ì ì´ë¯¸ì§€)
              Stack(
                children: [
                  GestureDetector(
                    onTap: () => _showProfileImageOptions(context, ref),
                    child: CircleAvatar(
                      radius: 50,
                      backgroundColor: Colors.white,
                      child: user.profileImage != null
                          ? ClipOval(
                              child: Image.network(
                                user.profileImage!,
                                fit: BoxFit.cover,
                                width: 100,
                                height: 100,
                              ),
                            )
                          : Text(
                              _getCountryFlag(user.countryCode),
                              style: TextStyle(fontSize: 60),
                            ),
                    ),
                  ),
                  // ì‚¬ìš©ì ì´ë¯¸ì§€ê°€ ìˆì„ ë•Œ êµ­ê¸° í‘œì‹œ
                  if (user.profileImage != null)
                    Positioned(
                      bottom: 0,
                      right: 0,
                      child: Container(
                        padding: EdgeInsets.all(4),
                        decoration: BoxDecoration(
                          color: Colors.white,
                          shape: BoxShape.circle,
                        ),
                        child: Text(
                          _getCountryFlag(user.countryCode),
                          style: TextStyle(fontSize: 20),
                        ),
                      ),
                    ),
                  // ë“±ê¸‰ í‘œì‹œ
                  Positioned(
                    top: 0,
                    right: 0,
                    child: Container(
                      padding: EdgeInsets.all(4),
                      decoration: BoxDecoration(
                        color: _getGradeColor(user.grade),
                        shape: BoxShape.circle,
                      ),
                      child: Text(
                        _getGradeEmoji(user.grade),
                        style: TextStyle(fontSize: 20),
                      ),
                    ),
                  ),
                ],
              ),
              SizedBox(height: 16),
              // ë‹‰ë„¤ì„ê³¼ ë“±ê¸‰
              Text(
                user.nickname,
                style: TextStyle(
                  fontSize: 24,
                  fontWeight: FontWeight.bold,
                  color: Colors.white,
                ),
              ),
              SizedBox(height: 4),
              Container(
                padding: EdgeInsets.symmetric(horizontal: 12, vertical: 4),
                decoration: BoxDecoration(
                  color: Colors.white.withOpacity(0.2),
                  borderRadius: BorderRadius.circular(16),
                ),
                child: Text(
                  _getGradeName(user.grade),
                  style: TextStyle(
                    color: Colors.white,
                    fontWeight: FontWeight.bold,
                  ),
                ),
              ),
              SizedBox(height: 24),
              // í†µê³„
              Row(
                mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                children: [
                  _StatItem(label: 'í”¼ë“œ', value: user.feedCount.toString()),
                  GestureDetector(
                    onTap: () => _showFollowers(context),
                    child: _StatItem(label: 'íŒ”ë¡œì›Œ', value: user.followerCount.toString()),
                  ),
                  GestureDetector(
                    onTap: () => _showFollowing(context),
                    child: _StatItem(label: 'íŒ”ë¡œì‰', value: user.followingCount.toString()),
                  ),
                  _StatItem(label: 'ë¶ë§ˆí¬', value: user.bookmarkCount.toString()),
                ],
              ),
            ],
          ),
        ),
      ),
    );
  }
  
  void _showProfileImageOptions(BuildContext context, WidgetRef ref) {
    showModalBottomSheet(
      context: context,
      builder: (context) => Container(
        padding: EdgeInsets.all(16),
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            ListTile(
              leading: Icon(Icons.camera_alt),
              title: Text('ì¹´ë©”ë¼ë¡œ ì´¬ì˜'),
              onTap: () {},
            ),
            ListTile(
              leading: Icon(Icons.photo_library),
              title: Text('ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ'),
              onTap: () {},
            ),
            ListTile(
              leading: Icon(Icons.flag),
              title: Text('êµ­ê¸°ë¡œ ë³€ê²½'),
              onTap: () {},
            ),
          ],
        ),
      ),
    );
  }
  
  void _showFollowers(BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => _FollowListScreen(title: 'íŒ”ë¡œì›Œ', isFollowers: true),
      ),
    );
  }
  
  void _showFollowing(BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => _FollowListScreen(title: 'íŒ”ë¡œì‰', isFollowers: false),
      ),
    );
  }
  
  String _getCountryFlag(String code) {
    final flags = {'KR': 'ğŸ‡°ğŸ‡·', 'JP': 'ğŸ‡¯ğŸ‡µ', 'CN': 'ğŸ‡¨ğŸ‡³', 'US': 'ğŸ‡ºğŸ‡¸', 'TW': 'ğŸ‡¹ğŸ‡¼'};
    return flags[code] ?? 'ğŸŒ';
  }
  
  Color _getGradeColor(int grade) {
    if (grade >= 8) return Colors.amber;
    if (grade >= 7) return Colors.purple;
    return Colors.green;
  }
  
  String _getGradeEmoji(int grade) {
    final emojis = {
      1: 'ğŸ˜', 2: 'ğŸ¥—', 3: 'ğŸ¥“', 4: 'ğŸ²',
      5: 'ğŸŸ', 6: 'ğŸŠ', 7: 'ğŸ‘‘',
      8: 'â­', 9: 'â­â­', 10: 'â­â­â­',
    };
    return emojis[grade] ?? 'ğŸ½ï¸';
  }
  
  String _getGradeName(int grade) {
    final names = {
      1: 'ëˆ„ë£½ì§€', 2: 'ë¹„ë¹”ë°¥', 3: 'ì‚¼ê²¹ì‚´', 4: 'ê°ˆë¹„íƒ•',
      5: 'ëª¨ë‘ íšŒ', 6: 'ì”ì¹«ìƒ', 7: 'ìˆ˜ëìƒ',
      8: 'ëŒ€ì¥ê¸ˆ â­', 9: 'ëŒ€ì¥ê¸ˆ â­â­', 10: 'ëŒ€ì¥ê¸ˆ â­â­â­',
    };
    return names[grade] ?? 'ë¯¸ì‹ê°€';
  }
}

// í†µê³„ ì•„ì´í…œ
class _StatItem extends StatelessWidget {
  final String label;
  final String value;
  
  _StatItem({required this.label, required this.value});
  
  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Text(
          value,
          style: TextStyle(
            fontSize: 24,
            fontWeight: FontWeight.bold,
            color: Colors.white,
          ),
        ),
        SizedBox(height: 4),
        Text(
          label,
          style: TextStyle(
            fontSize: 14,
            color: Colors.white.withOpacity(0.8),
          ),
        ),
      ],
    );
  }
}
```

### [í•„ìˆ˜] íƒ­ êµ¬í˜„
```dart
// íŒŒì¼: lib/screens/profile_tabs.dart

// ë‚˜ì˜ í”¼ë“œ íƒ­
class _MyFeedsTab extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final ocrPendingCount = ref.watch(ocrPendingCountProvider);
    
    return Column(
      children: [
        // OCR ëŒ€ê¸° ì¤‘ ì•Œë¦¼
        if (ocrPendingCount > 0)
          Container(
            width: double.infinity,
            padding: EdgeInsets.all(12),
            color: Colors.orange.withOpacity(0.1),
            child: Row(
              children: [
                Icon(Icons.receipt_long, color: Colors.orange),
                SizedBox(width: 8),
                Expanded(
                  child: Text('ì˜ìˆ˜ì¦ ì¶”ê°€ ëŒ€ê¸° ì¤‘: $ocrPendingCountê°œ'),
                ),
                TextButton(
                  onPressed: () => _showOcrPending(context),
                  child: Text('ë³´ê¸°'),
                ),
              ],
            ),
          ),
        // í”¼ë“œ ëª©ë¡
        Expanded(
          child: ListView.builder(
            itemCount: mockMyFeeds.length,
            itemBuilder: (context, index) {
              final feed = mockMyFeeds[index];
              return _FeedListTile(feed: feed);
            },
          ),
        ),
      ],
    );
  }
  
  void _showOcrPending(BuildContext context) {
    showModalBottomSheet(
      context: context,
      builder: (context) => _OcrPendingSheet(),
    );
  }
}

// ë‚˜ì˜ ë¯¸ì‹ì§€ë„ íƒ­
class _MyFoodMapTab extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final showBookmarks = ref.watch(showBookmarksOnMapProvider);
    
    return Stack(
      children: [
        // Mock ì§€ë„
        Container(
          color: Colors.grey[200],
          child: Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(Icons.map, size: 100, color: Colors.grey[400]),
                Text('ë‚˜ì˜ ë¯¸ì‹ì§€ë„'),
                SizedBox(height: 16),
                Text('ë°©ë¬¸: ğŸŸ¢ 15ê³³'),
                Text('ë¶ë§ˆí¬: ğŸ”– 8ê³³ ${showBookmarks ? "(í‘œì‹œë¨)" : "(ìˆ¨ê¹€)"}'),
              ],
            ),
          ),
        ),
        // í†µê³„ ì¹´ë“œ
        Positioned(
          top: 16,
          left: 16,
          right: 16,
          child: Card(
            child: Padding(
              padding: EdgeInsets.all(12),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceAround,
                children: [
                  _MapStatItem(icon: Icons.place, label: 'ë°©ë¬¸', value: '15'),
                  _MapStatItem(icon: Icons.bookmark, label: 'ë¶ë§ˆí¬', value: '8'),
                  _MapStatItem(icon: Icons.favorite, label: 'ë‹¨ê³¨', value: '3'),
                ],
              ),
            ),
          ),
        ),
        // ë¶ë§ˆí¬ í† ê¸€
        Positioned(
          bottom: 16,
          right: 16,
          child: FloatingActionButton.extended(
            onPressed: () {
              ref.read(showBookmarksOnMapProvider.notifier).state = !showBookmarks;
            },
            icon: Icon(Icons.bookmark),
            label: Text(showBookmarks ? 'ë¶ë§ˆí¬ ìˆ¨ê¸°ê¸°' : 'ë¶ë§ˆí¬ ë³´ê¸°'),
            backgroundColor: showBookmarks ? Colors.orange : Colors.grey,
          ),
        ),
      ],
    );
  }
}

// ë¶ë§ˆí¬ íƒ­
class _BookmarksTab extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: mockBookmarks.length,
      itemBuilder: (context, index) {
        final bookmark = mockBookmarks[index];
        return Card(
          margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
          child: ListTile(
            leading: ClipRRect(
              borderRadius: BorderRadius.circular(8),
              child: Container(
                width: 60,
                height: 60,
                color: Colors.grey[300],
                child: Icon(Icons.restaurant, color: Colors.grey),
              ),
            ),
            title: Text(bookmark.placeName),
            subtitle: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                Text(bookmark.address),
                Row(
                  children: [
                    Icon(Icons.star, size: 16, color: Colors.amber),
                    Text(' ${bookmark.rating}'),
                    SizedBox(width: 8),
                    Text('ì €ì¥ ${bookmark.saveCount}'),
                  ],
                ),
              ],
            ),
            trailing: IconButton(
              icon: Icon(Icons.bookmark, color: Colors.orange),
              onPressed: () {},
            ),
          ),
        );
      },
    );
  }
}

// ì„¤ì • íƒ­
class _SettingsTab extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final user = ref.watch(currentUserProvider);
    
    return ListView(
      children: [
        // ê³„ì • ì„¤ì •
        _SettingsSection(
          title: 'ê³„ì • ì„¤ì •',
          children: [
            ListTile(
              leading: Icon(Icons.person),
              title: Text('í”„ë¡œí•„ í¸ì§‘'),
              trailing: Icon(Icons.chevron_right),
              onTap: () {},
            ),
            ListTile(
              leading: Icon(Icons.language),
              title: Text('êµ­ê°€/ì–¸ì–´'),
              subtitle: Text('í•œêµ­ / í•œêµ­ì–´'),
              trailing: Icon(Icons.chevron_right),
              onTap: () => _showLanguageSettings(context),
            ),
            ListTile(
              leading: Icon(Icons.search),
              title: Text('ì‚¬ìš©ì ê²€ìƒ‰'),
              trailing: Icon(Icons.chevron_right),
              onTap: () => _showUserSearch(context),
            ),
          ],
        ),
        
        // ê°œì¸ì •ë³´ ë³´í˜¸
        _SettingsSection(
          title: 'ê°œì¸ì •ë³´ ë³´í˜¸',
          children: [
            ListTile(
              leading: Icon(Icons.block),
              title: Text('ì°¨ë‹¨ ëª©ë¡'),
              subtitle: Text('${mockBlockedUsers.length}ëª… ì°¨ë‹¨ë¨'),
              trailing: Icon(Icons.chevron_right),
              onTap: () => _showBlockedUsers(context),
            ),
            ListTile(
              leading: Icon(Icons.privacy_tip),
              title: Text('ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨'),
              trailing: Icon(Icons.open_in_new),
              onTap: () => _openPrivacyPolicy(),
            ),
          ],
        ),
        
        // ì•½ê´€ ë° ì •ì±…
        _SettingsSection(
          title: 'ì•½ê´€ ë° ì •ì±…',
          children: [
            ListTile(
              leading: Icon(Icons.description),
              title: Text('ì´ìš©ì•½ê´€'),
              trailing: Icon(Icons.open_in_new),
              onTap: () => _openTermsOfService(),
            ),
            ListTile(
              leading: Icon(Icons.help),
              title: Text('ë„ì›€ë§'),
              trailing: Icon(Icons.chevron_right),
              onTap: () {},
            ),
          ],
        ),
        
        // ê³„ì • ê´€ë¦¬
        _SettingsSection(
          title: 'ê³„ì • ê´€ë¦¬',
          children: [
            ListTile(
              leading: Icon(Icons.logout, color: Colors.orange),
              title: Text('ë¡œê·¸ì•„ì›ƒ', style: TextStyle(color: Colors.orange)),
              onTap: () => _showLogoutDialog(context, ref),
            ),
            ListTile(
              leading: Icon(Icons.delete_forever, color: Colors.red),
              title: Text('íšŒì› íƒˆí‡´', style: TextStyle(color: Colors.red)),
              onTap: () => _showDeleteAccountDialog(context, ref),
            ),
          ],
        ),
      ],
    );
  }
  
  void _showLanguageSettings(BuildContext context) {
    showModalBottomSheet(
      context: context,
      builder: (context) => _LanguageSettingsSheet(),
    );
  }
  
  void _showUserSearch(BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(builder: (context) => _UserSearchScreen()),
    );
  }
  
  void _showBlockedUsers(BuildContext context) {
    Navigator.push(
      context,
      MaterialPageRoute(builder: (context) => _BlockedUsersScreen()),
    );
  }
  
  void _openPrivacyPolicy() {
    // URL ì—´ê¸°
  }
  
  void _openTermsOfService() {
    // URL ì—´ê¸°
  }
  
  void _showLogoutDialog(BuildContext context, WidgetRef ref) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('ë¡œê·¸ì•„ì›ƒ'),
        content: Text('ì •ë§ ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () {
              ref.read(currentUserProvider.notifier).state = null;
              Navigator.pushNamedAndRemoveUntil(
                context,
                '/login',
                (route) => false,
              );
            },
            style: TextButton.styleFrom(foregroundColor: Colors.red),
            child: Text('ë¡œê·¸ì•„ì›ƒ'),
          ),
        ],
      ),
    );
  }
  
  void _showDeleteAccountDialog(BuildContext context, WidgetRef ref) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('íšŒì› íƒˆí‡´'),
        content: Column(
          mainAxisSize: MainAxisSize.min,
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text('ì •ë§ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'),
            SizedBox(height: 16),
            Text(
              'âš ï¸ ì£¼ì˜ì‚¬í•­:',
              style: TextStyle(fontWeight: FontWeight.bold),
            ),
            Text('â€¢ ëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤'),
            Text('â€¢ ì‘ì„±í•œ í”¼ë“œì™€ ë¦¬ë·°ê°€ ëª¨ë‘ ì‚¬ë¼ì§‘ë‹ˆë‹¤'),
            Text('â€¢ íƒˆí‡´ í›„ ë™ì¼ ê³„ì •ìœ¼ë¡œ ì¬ê°€ì…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤'),
          ],
        ),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () => _confirmDeleteAccount(context),
            style: TextButton.styleFrom(foregroundColor: Colors.red),
            child: Text('íƒˆí‡´í•˜ê¸°'),
          ),
        ],
      ),
    );
  }
  
  void _confirmDeleteAccount(BuildContext context) {
    Navigator.pop(context);
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('ìµœì¢… í™•ì¸'),
        content: Text('ì •ë§ë¡œ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () {
              // íƒˆí‡´ ì²˜ë¦¬
              Navigator.pushNamedAndRemoveUntil(
                context,
                '/splash',
                (route) => false,
              );
            },
            style: TextButton.styleFrom(
              foregroundColor: Colors.white,
              backgroundColor: Colors.red,
            ),
            child: Text('íƒˆí‡´'),
          ),
        ],
      ),
    );
  }
}

// ì„¤ì • ì„¹ì…˜
class _SettingsSection extends StatelessWidget {
  final String title;
  final List<Widget> children;
  
  _SettingsSection({required this.title, required this.children});
  
  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Padding(
          padding: EdgeInsets.fromLTRB(16, 16, 16, 8),
          child: Text(
            title,
            style: TextStyle(
              fontSize: 14,
              fontWeight: FontWeight.bold,
              color: Colors.grey[600],
            ),
          ),
        ),
        ...children,
        Divider(height: 1),
      ],
    );
  }
}
```

### [ì„ íƒ] ì¶”ê°€ í™”ë©´ë“¤
```dart
// íŒŒì¼: lib/screens/profile_sub_screens.dart

// íŒ”ë¡œì›Œ/íŒ”ë¡œì‰ í™”ë©´
class _FollowListScreen extends ConsumerWidget {
  final String title;
  final bool isFollowers;
  
  _FollowListScreen({required this.title, required this.isFollowers});
  
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final users = isFollowers ? mockFollowers : mockFollowing;
    
    return Scaffold(
      appBar: AppBar(
        title: Text(title),
        backgroundColor: Color(0xFFFF6B35),
      ),
      body: ListView.builder(
        itemCount: users.length,
        itemBuilder: (context, index) {
          final user = users[index];
          return ListTile(
            leading: CircleAvatar(
              child: Text(_getCountryFlag(user.countryCode)),
            ),
            title: Text(user.nickname),
            subtitle: Text('${_getGradeName(user.grade)} â€¢ í”¼ë“œ ${user.feedCount}ê°œ'),
            trailing: isFollowers
                ? null
                : TextButton(
                    onPressed: () {},
                    child: Text('ì–¸íŒ”ë¡œìš°'),
                  ),
          );
        },
      ),
    );
  }
  
  String _getCountryFlag(String code) {
    final flags = {'KR': 'ğŸ‡°ğŸ‡·', 'JP': 'ğŸ‡¯ğŸ‡µ', 'CN': 'ğŸ‡¨ğŸ‡³', 'US': 'ğŸ‡ºğŸ‡¸'};
    return flags[code] ?? 'ğŸŒ';
  }
  
  String _getGradeName(int grade) {
    // ë“±ê¸‰ ì´ë¦„ ë°˜í™˜
    return 'ë¯¸ì‹ê°€';
  }
}

// ì‚¬ìš©ì ê²€ìƒ‰ í™”ë©´
class _UserSearchScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: TextField(
          decoration: InputDecoration(
            hintText: 'ë‹‰ë„¤ì„ ë˜ëŠ” ì´ë©”ì¼ë¡œ ê²€ìƒ‰',
            border: InputBorder.none,
            hintStyle: TextStyle(color: Colors.white70),
          ),
          style: TextStyle(color: Colors.white),
        ),
        backgroundColor: Color(0xFFFF6B35),
      ),
      body: ListView.builder(
        itemCount: mockSearchResults.length,
        itemBuilder: (context, index) {
          final user = mockSearchResults[index];
          return ListTile(
            leading: CircleAvatar(
              child: Text(_getCountryFlag(user.countryCode)),
            ),
            title: Text(user.nickname),
            subtitle: Text(user.email),
            trailing: Row(
              mainAxisSize: MainAxisSize.min,
              children: [
                IconButton(
                  icon: Icon(Icons.person_add),
                  onPressed: () {},
                ),
                PopupMenuButton(
                  itemBuilder: (context) => [
                    PopupMenuItem(
                      value: 'block',
                      child: Text('ì°¨ë‹¨í•˜ê¸°'),
                    ),
                  ],
                  onSelected: (value) {
                    if (value == 'block') {
                      _showBlockDialog(context, user);
                    }
                  },
                ),
              ],
            ),
          );
        },
      ),
    );
  }
  
  void _showBlockDialog(BuildContext context, UserData user) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('ì‚¬ìš©ì ì°¨ë‹¨'),
        content: Text('${user.nickname}ë‹˜ì„ ì°¨ë‹¨í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì°¨ë‹¨ëœ ì‚¬ìš©ìì˜ í”¼ë“œëŠ” ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () {
              Navigator.pop(context);
              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text('${user.nickname}ë‹˜ì„ ì°¨ë‹¨í–ˆìŠµë‹ˆë‹¤')),
              );
            },
            style: TextButton.styleFrom(foregroundColor: Colors.red),
            child: Text('ì°¨ë‹¨'),
          ),
        ],
      ),
    );
  }
  
  String _getCountryFlag(String code) {
    final flags = {'KR': 'ğŸ‡°ğŸ‡·', 'JP': 'ğŸ‡¯ğŸ‡µ', 'CN': 'ğŸ‡¨ğŸ‡³', 'US': 'ğŸ‡ºğŸ‡¸'};
    return flags[code] ?? 'ğŸŒ';
  }
}

// ì°¨ë‹¨ ëª©ë¡ í™”ë©´
class _BlockedUsersScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ì°¨ë‹¨ ëª©ë¡'),
        backgroundColor: Color(0xFFFF6B35),
      ),
      body: mockBlockedUsers.isEmpty
          ? Center(
              child: Text('ì°¨ë‹¨í•œ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤'),
            )
          : ListView.builder(
              itemCount: mockBlockedUsers.length,
              itemBuilder: (context, index) {
                final user = mockBlockedUsers[index];
                return ListTile(
                  leading: CircleAvatar(
                    child: Text(_getCountryFlag(user.countryCode)),
                  ),
                  title: Text(user.nickname),
                  subtitle: Text('ì°¨ë‹¨ì¼: ${user.blockedDate}'),
                  trailing: TextButton(
                    onPressed: () => _unblockUser(context, user),
                    child: Text('ì°¨ë‹¨ í•´ì œ'),
                  ),
                );
              },
            ),
    );
  }
  
  void _unblockUser(BuildContext context, BlockedUser user) {
    showDialog(
      context: context,
      builder: (context) => AlertDialog(
        title: Text('ì°¨ë‹¨ í•´ì œ'),
        content: Text('${user.nickname}ë‹˜ì˜ ì°¨ë‹¨ì„ í•´ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'),
        actions: [
          TextButton(
            onPressed: () => Navigator.pop(context),
            child: Text('ì·¨ì†Œ'),
          ),
          TextButton(
            onPressed: () {
              Navigator.pop(context);
              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text('ì°¨ë‹¨ì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤')),
              );
            },
            child: Text('í•´ì œ'),
          ),
        ],
      ),
    );
  }
  
  String _getCountryFlag(String code) {
    final flags = {'KR': 'ğŸ‡°ğŸ‡·', 'JP': 'ğŸ‡¯ğŸ‡µ', 'CN': 'ğŸ‡¨ğŸ‡³', 'US': 'ğŸ‡ºğŸ‡¸'};
    return flags[code] ?? 'ğŸŒ';
  }
}
```

## 3. Mock ë°ì´í„°

### [í•„ìˆ˜] ë°ì´í„° ëª¨ë¸ ë° Mock
```dart
// íŒŒì¼: lib/mock/profile_mock_data.dart

// ì‚¬ìš©ì ë°ì´í„°
class UserData {
  final String id;
  final String nickname;
  final String email;
  final String countryCode;
  final String? profileImage;
  final int grade;
  final int feedCount;
  final int followerCount;
  final int followingCount;
  final int bookmarkCount;
  
  UserData({
    required this.id,
    required this.nickname,
    required this.email,
    required this.countryCode,
    this.profileImage,
    required this.grade,
    required this.feedCount,
    required this.followerCount,
    required this.followingCount,
    required this.bookmarkCount,
  });
}

// ë¶ë§ˆí¬ ë°ì´í„°
class BookmarkData {
  final String placeId;
  final String placeName;
  final String address;
  final double rating;
  final int saveCount;
  
  BookmarkData({
    required this.placeId,
    required this.placeName,
    required this.address,
    required this.rating,
    required this.saveCount,
  });
}

// ì°¨ë‹¨ëœ ì‚¬ìš©ì
class BlockedUser {
  final String nickname;
  final String countryCode;
  final String blockedDate;
  
  BlockedUser({
    required this.nickname,
    required this.countryCode,
    required this.blockedDate,
  });
}

// Mock ë°ì´í„°
final mockUser = UserData(
  id: '1',
  nickname: 'ë¯¸ì‹ê°€123',
  email: 'foodie@example.com',
  countryCode: 'KR',
  profileImage: null, // êµ­ê¸° í‘œì‹œ
  grade: 7,
  feedCount: 45,
  followerCount: 128,
  followingCount: 89,
  bookmarkCount: 32,
);

final mockMyFeeds = [
  FeedItem(
    id: '1',
    placeName: 'ê°•ë‚¨ë¶ˆë°±',
    menuName: 'ì°¨ëŒë¶ˆë°±',
    hasOcrPending: true,
    createdAt: '2ì‹œê°„ ì „',
  ),
  FeedItem(
    id: '2',
    placeName: 'ìŠ¤ì‹œì˜¤ë§ˆì¹´ì„¸',
    menuName: 'ëŸ°ì¹˜ ì˜¤ë§ˆì¹´ì„¸',
    hasOcrPending: false,
    createdAt: 'ì–´ì œ',
  ),
];

final mockBookmarks = [
  BookmarkData(
    placeId: '1',
    placeName: 'ì„ì§€ë¡œ ë…¸ê°€ë¦¬',
    address: 'ì¤‘êµ¬ ì„ì§€ë¡œ',
    rating: 4.5,
    saveCount: 234,
  ),
  BookmarkData(
    placeId: '2',
    placeName: 'ì„±ìˆ˜ ì¹´í˜',
    address: 'ì„±ë™êµ¬ ì„±ìˆ˜ë™',
    rating: 4.8,
    saveCount: 567,
  ),
];

final mockFollowers = [
  UserData(
    id: '2',
    nickname: 'ëŒ€ì¥ê¸ˆë§›ì§‘',
    email: '',
    countryCode: 'KR',
    profileImage: null,
    grade: 9,
    feedCount: 234,
    followerCount: 0,
    followingCount: 0,
    bookmarkCount: 0,
  ),
];

final mockFollowing = [
  UserData(
    id: '3',
    nickname: 'TokyoFoodie',
    email: '',
    countryCode: 'JP',
    profileImage: null,
    grade: 8,
    feedCount: 156,
    followerCount: 0,
    followingCount: 0,
    bookmarkCount: 0,
  ),
];

final mockBlockedUsers = [
  BlockedUser(
    nickname: 'ìŠ¤íŒ¸ìœ ì €',
    countryCode: 'US',
    blockedDate: '2024.12.01',
  ),
];

final mockSearchResults = [
  UserData(
    id: '4',
    nickname: 'ë§›ì§‘íƒí—˜ê°€',
    email: 'explorer@example.com',
    countryCode: 'KR',
    profileImage: null,
    grade: 5,
    feedCount: 78,
    followerCount: 0,
    followingCount: 0,
    bookmarkCount: 0,
  ),
];

// Provider
final ocrPendingCountProvider = Provider((ref) => 2);
final showBookmarksOnMapProvider = StateProvider((ref) => true);
```

## 4. ê²€ì¦

### âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] êµ­ê¸° ê¸°ë°˜ í”„ë¡œí•„ ì´ë¯¸ì§€
- [ ] í”„ë¡œí•„ ì´ë¯¸ì§€ ìˆì„ ë•Œ êµ­ê¸° ë³„ë„ í‘œì‹œ
- [ ] 4ê°œ íƒ­ ì •ìƒ ì‘ë™
- [ ] OCR ëŒ€ê¸° ì¤‘ í”¼ë“œ ê´€ë¦¬
- [ ] ë¶ë§ˆí¬ ë¦¬ìŠ¤íŠ¸ ë° ì§€ë„ í‘œì‹œ
- [ ] íŒ”ë¡œì›Œ/íŒ”ë¡œì‰ ë¦¬ìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ê²€ìƒ‰ ë° ì°¨ë‹¨
- [ ] ë¡œê·¸ì•„ì›ƒ/íƒˆí‡´ í”Œë¡œìš°
- [ ] ì•½ê´€ ë§í¬ ì—°ê²°