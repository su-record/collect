# Fallingo 기술 스택 및 아키텍처 개요 📜

## 1. 서론 👋

본 문서는 Fallingo 서비스 개발에 사용되는 기술 스택, 주요 시스템 구성 요소, 그리고 전체 아키텍처에 대한 개요를 제공합니다. 이를 통해 개발팀(및 AI 어시스턴트 🤖)은 프로젝트의 기술적 기반을 이해하고, 일관된 방향으로 개발을 진행할 수 있습니다.

## 2. 기술 스택 💻

Fallingo 서비스는 안정적이고 확장 가능한 최신 기술들을 활용하여 사용자에게 최고의 🍽️ 미식 경험을 제공하는 것을 목표로 합니다. 주요 기술 스택은 다음과 같습니다.

| 영역 | 현재 구현 (로컬/MVP) 🏠 | 향후 계획 (운영/확장) 🚀 | 비고 📝 |
| :--- | :--- | :--- | :--- |
| ☁️ **클라우드** | 로컬 개발 환경 (Firebase Local Emulator Suite 활용) | Google Cloud Platform (GCP) | 로컬 에뮬레이터로 Firebase, Firestore 등을 충분히 검증한 후 운영 서비스로 원활하게 전환할 예정입니다. |
| 📱 **프론트엔드** | Flutter (Latest Stable)\<br\>Material Design을 활용한 UI 개발 | Flutter (Latest Stable) + 웹(Web) 지원 | 단일 코드로 🍎 iOS, 🤖 Android 네이티브 앱을 개발하고 🌐 웹으로 플랫폼을 확장할 계획입니다. |
| ⚙️ **백엔드** | Flask (Latest Stable) | Cloud Functions (Python) | 초기 개발 후, 이벤트 기반의 서버리스 아키텍처로 전환하는 것을 목표로 합니다. |
| 🗄️ **데이터베이스**| Firestore (로컬 에뮬레이터 활용) | Firestore (운영 클라우드 환경) | Mock 데이터 대신 MVP 단계부터 NoSQL 문서 기반 DB를 적용하여 실시간 동기화 및 확장성을 검증합니다. |
| 🔑 **인증** | Firebase Authentication (로컬 에뮬레이터 활용) | Firebase Authentication (운영 환경) | Mock 인증을 건너뛰고, MVP부터 Google, Apple 등 소셜 로그인 및 이메일 기반의 안전한 사용자 인증을 구현합니다. |
| 🖼️ **이미지 처리**| 기본 이미지 압축 + Cloud Vision API 연동 | Cloud Vision API + Cloud Storage (운영 최적화) | 로컬 개발 단계부터 OCR(영수증 분석), 음식 이미지 분석 등 핵심 AI 기능을 연동하여 테스트합니다. |
| 🧠 **추천 시스템**| 기본 로직 (예: 등록순, 인기순) | Vertex AI | 사용자 행동 데이터가 축적된 후, Vertex AI를 도입하여 개인화된 추천 알고리즘으로 고도화할 예정입니다. |
| 🗺️ **위치 서비스**| Google Maps Platform 및 Open-Meteo API 연동 | Google Maps Platform, Open-Meteo API (기능 고도화) | Mock 데이터 대신 실제 API를 초기부터 연동하여 정확한 실시간 위치 기반 검색, 지도 표시, 날씨 정보 기능을 제공합니다. |
| 📡 **실시간 통신**| Firestore 실시간 리스너 (로컬 에뮬레이터 활용) | Firestore 실시간 리스너 / WebSockets (서비스 확장) | Polling 방식이 아닌, 초기부터 실시간 데이터 동기화 아키텍처를 적용하여 사용자 상호작용을 강화합니다. |

## 3. 시스템 아키텍처 개요 🏗️

Fallingo는 모바일 클라이언트, 백엔드 API 서버, 데이터베이스, 그리고 다양한 클라우드 기반 서비스들로 구성된 다층 아키텍처(Multi-tier Architecture)를 지향합니다.

**(Placeholder: 📊 향후 이곳에 시스템 아키텍처 다이어그램을 삽입합니다. 다이어그램은 클라이언트, API 게이트웨이, 백엔드 서비스(Cloud Functions), Firestore, Firebase Auth, Cloud Storage, Vision API, Maps API, Vertex AI 간의 관계를 시각적으로 표현해야 합니다.)**

### 3.1. 주요 컴포넌트 🧩

* 📱 **클라이언트 (Client - Flutter Application):**
    * 🍎 iOS, 🤖 Android 네이티브 앱 및 향후 🌐 웹 애플리케이션 형태로 사용자에게 UI/UX를 제공합니다.
    * ⌨️ 사용자 입력(텍스트, 이미지, 위치 등)을 처리하고, 📞 API를 통해 백엔드 서비스와 통신합니다.
    * 📍 실시간 위치 정보 획득, 📸 카메라를 이용한 사진 촬영 및 업로드 기능을 수행합니다.
    * 🔄 Firestore 리스너를 통해 데이터 변경을 실시간으로 감지하고 UI를 업데이트합니다.

* ⚙️ **백엔드 (Backend - Flask / Cloud Functions):**
    * 클라이언트의 요청을 처리하는 RESTful API 엔드포인트를 제공합니다.
    * 💡 핵심 비즈니스 로직(데이터 유효성 검사, 사용자 요청 처리, 데이터베이스 연동, 푸시 알림 등)을 수행합니다.
    * 🛡️ Firebase Admin SDK를 사용하여 Firebase 서비스(Firestore, Auth, Storage 등)와 안전하게 상호작용합니다.
    * 🌐 Google Cloud Vision API, Google Maps Platform API, Vertex AI 등 외부 AI/ML 및 위치 기반 서비스를 호출하고 결과를 통합합니다.

* 🗄️ **데이터베이스 (Database - Firestore):**
    * 모든 영구 데이터(사용자 프로필, 게시물 내용, 메뉴 정보, 추천/댓글, 등급, 인증 맛집 정보 등)를 저장하고 관리합니다.
    * 📄 NoSQL 문서 모델을 사용하여 유연한 데이터 구조를 지원하며, ⏱️ 실시간 동기화 기능을 통해 여러 클라이언트에 최신 데이터를 즉시 반영합니다.

* 🔑 **인증 서비스 (Authentication - Firebase Authentication):**
    * 사용자 회원가입, 로그인, 로그아웃, 계정 관리 및 🔒 보안 세션 처리를 담당합니다.
    * 👤 Google, Apple 등 소셜 로그인과 📧 이메일/비밀번호 기반 인증 방식을 안전하게 제공합니다.

* 📦 **스토리지 (Storage - Cloud Storage for Firebase):**
    * 사용자가 등록하는 🖼️ 고해상도 음식 사진, 🧾 영수증 이미지 등 대용량 파일을 안전하고 효율적으로 저장, 관리 및 제공합니다.

* 🧠 **AI/ML 서비스 (Google Cloud AI/ML Services):**
    * **👁️ Cloud Vision API:** 업로드된 영수증 이미지에서 텍스트(점포명, 주소, 메뉴, 가격 등)를 추출(OCR)하고, 음식 사진을 분석하여 관련 정보를 태깅합니다.
    * **✨ Vertex AI:** 사용자의 활동 이력, 선호도, 현재 상황(위치, 시간) 등을 종합적으로 분석하여 개인에게 최적화된 메뉴나 맛집을 추천합니다.

* 🗺️ **위치 서비스 (Google Maps Platform):**
    * 사용자의 📍 현재 위치를 정확하게 파악하고,  आसपास के 맛집 검색, 🚗 경로 안내,  M 지도 위 맛집 표시 등 위치 기반 서비스의 핵심 기능을 제공합니다.

### 3.2. 주요 데이터 흐름 (예시) 🌊

* **사용자의 현장 인증 게시물 등록 📝:**
    1.  📱 **클라이언트(Flutter):** 사용자가 📸 음식 사진 촬영 후 메뉴 정보, 평점, 태그 등을 입력하고 '등록' 요청. 이때 📍 GPS를 통해 현재 위치 정보 함께 수집.
    2.  📱 **클라이언트(Flutter):** 촬영된 사진은 ☁️ Cloud Storage에 업로드 후 URL 획득. 게시물 데이터(텍스트 정보, 이미지 URL, 위치 정보)를 ⚙️ 백엔드 API로 전송.
    3.  ⚙️ **백엔드(Flask/Cloud Functions):** API 요청 수신. (필요시) 🧾 영수증 사진 OCR을 위해 👁️ Cloud Vision API 호출. 데이터 유효성 검사.
    4.  ⚙️ **백엔드(Flask/Cloud Functions):** 검증된 게시물 정보를 🗄️ Firestore에 저장.
    5.  🗄️ **Firestore & 📱 클라이언트(Flutter):** Firestore의 📡 실시간 리스너를 통해 해당 사용자의 팔로워 또는 주변 사용자들의 피드에 새 게시물 정보가 업데이트됨.

* **AI 기반 개인 맞춤 메뉴 추천 🤖💡:**
    1.  📱 **클라이언트(Flutter):** 사용자가 앱 실행 또는 특정 화면 진입 시, 📍 현재 위치 정보와 함께 추천 요청 ⚙️ API 호출.
    2.  ⚙️ **백엔드(Flask/Cloud Functions):** API 요청 수신. 사용자의 프로필(선호 음식, 이전 방문 기록 등), 현재 위치, 시간대 등의 컨텍스트 정보를 ✨ Vertex AI의 추천 모델로 전달.
    3.  ✨ **Vertex AI:** 입력된 정보를 바탕으로 개인화된 추천 메뉴(또는 맛집) 리스트 생성 후 ⚙️ 백엔드로 반환.
    4.  ⚙️ **백엔드(Flask/Cloud Functions):** 추천 결과를 가공하고, 필요한 추가 정보(예: 각 메뉴의 상세 정보)를 🗄️ Firestore에서 조회하여 조합.
    5.  📱 **클라이언트(Flutter):** 최종 추천 리스트를 수신하여 사용자에게 📊 시각적으로 제시.

## 4. 아키텍처 목표 및 설계 원칙 🎯

Fallingo 서비스의 아키텍처는 다음 목표와 원칙을 기반으로 설계되고 발전됩니다.

* 📈 **확장성 (Scalability):**
    * 사용자 수 및 데이터 양 증가에 유연하게 대응할 수 있도록 설계합니다 (GCP의 서버리스 및 관리형 서비스 적극 활용).
    * 기능 추가 및 변경이 용이하도록 모듈식 설계를 지향합니다.
* 🛡️ **신뢰성 및 안정성 (Reliability & Availability):**
    * GCP의 강력한 인프라와 SLA(Service Level Agreement)를 기반으로 서비스 중단 시간을 최소화하고 안정적인 운영을 보장합니다.
    * 오류 처리, 로깅 📝, 모니터링 📊 체계를 구축하여 문제 발생 시 신속하게 대응합니다.
* 🔧 **유지보수성 (Maintainability):**
    * 각 컴포넌트는 명확한 단일 책임을 가지도록 설계합니다 (Single Responsibility Principle).
    * 가독성 높고 일관된 코딩 스타일 및 문서화 📖 를 유지합니다 (본 개발 가이드 준수).
    * API 명세를 명확히 하여 프론트엔드와 백엔드 간의 의존성을 관리합니다.
* 🔐 **보안 (Security):**
    * Firebase Authentication을 통한 강력한 사용자 인증 및 인가를 적용합니다.
    * Cloud Storage 접근 제어, Firestore 보안 규칙 등을 통해 데이터를 보호합니다.
    * API 요청/응답 시 HTTPS를 사용하고, 민감 정보는 🔑 암호화 처리를 고려합니다.
    * GCP의 다양한 보안 기능을 활용하여 외부 공격으로부터 시스템을 보호합니다.
* 🚀 **성능 (Performance):**
    * 사용자에게 빠른 응답 속도와 쾌적한 사용 경험을 제공하기 위해 API 응답 시간 최적화, 효율적인 데이터베이스 쿼리, 이미지 로딩 최적화 등을 수행합니다.
    * Firestore의 효율적인 인덱싱 전략을 수립합니다.
* 💰 **비용 효율성 (Cost-Effectiveness):**
    * GCP의 사용량 기반 과금 모델을 최대한 활용하고, 불필요한 리소스 사용을 최소화하여 운영 비용을 최적화합니다.
    * 서버리스 아키텍처를 통해 유휴 서버 비용을 절감합니다.

## 5. 향후 고려사항 🤔

* 🧩 **마이크로서비스 아키텍처 (MSA) 전환:** 서비스 규모가 커지고 기능이 매우 복잡해질 경우, 백엔드 시스템을 기능 단위의 독립적인 마이크로서비스로 분리하여 개발 및 배포 유연성을 높이는 방안을 고려할 수 있습니다.
* 📊 **데이터 분석 파이프라인 구축:** 사용자 행동 로그, 서비스 이용 통계 등을 수집/분석하여 서비스 개선 및 비즈니스 인사이트 도출에 활용하기 위한 별도의 데이터 파이프라인(예: BigQuery 연동) 구축을 고려합니다.
* 🔍 **고도화된 검색 기능:** Elasticsearch 등 전문 검색 엔진을 도입하여 더욱 빠르고 정확하며 다양한 조건의 검색 기능 제공을 고려합니다.
* 🌍 **글로벌 서비스 확장:** 해외 시장 진출 시 다국어 지원, 국가별 법규 준수, CDN(Content Delivery Network)을 통한 글로벌 콘텐츠 전송 최적화 등을 고려해야 합니다.